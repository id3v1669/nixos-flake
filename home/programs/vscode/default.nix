{ config
, pkgs
, ...
}:
{
  xdg.desktopEntries = {
    code8 = {
      name = "code8";
      genericName = "code8 IDE";
      exec = "nix-shell ${config.home.homeDirectory}/.scripts/dotnet8.nix --run code";
      terminal = false;
      categories = [ "Development" "IDE" ];
    };
  };
  programs.vscode = {
    enable = true;
    package = pkgs.vscode;
    enableUpdateCheck = false;
    enableExtensionUpdateCheck = true;
    userSettings = {
      "window.titleBarStyle" = "custom";
      "telemetry.telemetryLevel" = "off";
      "window.autoDetectColorScheme" = false;
      "editor.fontFamily" = "JetBrainsMono Nerd Font";
      "terminal.integrated.fontFamily" = "JetBrainsMono Nerd Font";
      "explorer.confirmDelete" = false;
      "editor.tokenColorCustomizations" = {
        "comments" = "#${config.colorScheme.palette.base05}";
      };
      "workbench.colorCustomizations" = {
        "foreground" = "#${config.colorScheme.palette.base05}";
        "focusBorder" = "#${config.colorScheme.palette.base0D}";
        "selection.background" = "#${config.colorScheme.palette.base04}";
        "scrollbar.shadow" = "#${config.colorScheme.palette.base00}";
        "activityBar.foreground" = "#${config.colorScheme.palette.base05}";
        "activityBar.background" = "#${config.colorScheme.palette.base00}";
        "activityBar.inactiveForeground" = "#${config.colorScheme.palette.base05}5a";
        "activityBarBadge.foreground" = "#${config.colorScheme.palette.base00}";
        "activityBarBadge.background" = "#${config.colorScheme.palette.base0D}";
        "sideBar.background" = "#${config.colorScheme.palette.base01}";
        "sideBar.foreground" = "#${config.colorScheme.palette.base05}";
        "sideBarSectionHeader.background" = "#00000000";
        "sideBarSectionHeader.foreground" = "#${config.colorScheme.palette.base05}";

        "sideBarTitle.foreground" = "#${config.colorScheme.palette.base05}";
        "list.inactiveSelectionBackground" = "#${config.colorScheme.palette.base00}";
        "list.inactiveSelectionForeground" = "#${config.colorScheme.palette.base05}";
        "list.hoverBackground" = "#${config.colorScheme.palette.base00}";
        "list.hoverForeground" = "#${config.colorScheme.palette.base05}";
        "list.activeSelectionBackground" = "#${config.colorScheme.palette.base04}";
        "list.activeSelectionForeground" = "#${config.colorScheme.palette.base05}";
        "tree.indentGuidesStroke" = "#${config.colorScheme.palette.base07}";
        "list.dropBackground" = "#${config.colorScheme.palette.base00}";
        "list.highlightForeground" = "#${config.colorScheme.palette.base0D}";
        "list.focusBackground" = "#${config.colorScheme.palette.base03}";
        "list.focusForeground" = "#${config.colorScheme.palette.base05}";
        "listFilterWidget.background" = "#${config.colorScheme.palette.base03}";
        "listFilterWidget.outline" = "#00000000";
        "listFilterWidget.noMatchesOutline" = "#${config.colorScheme.palette.base08}";
        "statusBar.foreground" = "#${config.colorScheme.palette.base05}";
        "statusBar.background" = "#${config.colorScheme.palette.base02}";
        "statusBarItem.hoverBackground" = "#ffffff1f";
        "statusBar.debuggingBackground" = "#${config.colorScheme.palette.base08}";
        "statusBar.debuggingForeground" = "#${config.colorScheme.palette.base03}";
        "statusBar.noFolderBackground" = "#${config.colorScheme.palette.base0E}";
        "statusBar.noFolderForeground" = "#${config.colorScheme.palette.base03}";
        "statusBarItem.remoteBackground" = "#${config.colorScheme.palette.base0B}";
        "statusBarItem.remoteForeground" = "#${config.colorScheme.palette.base03}";
        "titleBar.activeBackground" = "#${config.colorScheme.palette.base00}";
        "titleBar.activeForeground" = "#${config.colorScheme.palette.base05}";
        "titleBar.inactiveBackground" = "#${config.colorScheme.palette.base00}91";
        "titleBar.inactiveForeground" = "#${config.colorScheme.palette.base05}80";
        "titleBar.border" = "#00000000";
        "menubar.selectionForeground" = "#${config.colorScheme.palette.base05}";
        "menubar.selectionBackground" = "#${config.colorScheme.palette.base03}";
        "menu.foreground" = "#${config.colorScheme.palette.base05}";
        "menu.background" = "#${config.colorScheme.palette.base00}";
        "menu.selectionForeground" = "#${config.colorScheme.palette.base05}";
        "menu.selectionBackground" = "#${config.colorScheme.palette.base04}";
        "menu.selectionBorder" = "#00000000";
        "menu.separatorBackground" = "#${config.colorScheme.palette.base04}";
        "menu.border" = "#00000085";
        "button.background" = "#${config.colorScheme.palette.base04}";
        "button.foreground" = "#${config.colorScheme.palette.base05}";
        "button.hoverBackground" = "#${config.colorScheme.palette.base03}";
        "button.secondaryForeground" = "#${config.colorScheme.palette.base05}";
        "button.secondaryBackground" = "#${config.colorScheme.palette.base03}";
        "button.secondaryHoverBackground" = "#${config.colorScheme.palette.base00}";
        "input.background" = "#${config.colorScheme.palette.base02}";
        "input.border" = "#00000000";
        "input.foreground" = "#${config.colorScheme.palette.base05}";
        "inputOption.activeBackground" = "#${config.colorScheme.palette.base0D}26";
        "inputOption.activeBorder" = "#${config.colorScheme.palette.base0D}00";
        "inputOption.activeForeground" = "#${config.colorScheme.palette.base05}";
        "input.placeholderForeground" = "#${config.colorScheme.palette.base05}70";
        "textLink.foreground" = "#${config.colorScheme.palette.base0D}";
        "editor.background" = "#${config.colorScheme.palette.base00}";
        "editor.foreground" = "#${config.colorScheme.palette.base05}";
        "editorLineNumber.foreground" = "#${config.colorScheme.palette.base05}";
        "editorCursor.foreground" = "#${config.colorScheme.palette.base06}";
        "editorCursor.background" = "#${config.colorScheme.palette.base00}";
        "editor.selectionBackground" = "#${config.colorScheme.palette.base04}";
        "editor.inactiveSelectionBackground" = "#FFFFFF20";
        "editorWhitespace.foreground" = "#${config.colorScheme.palette.base05}18";
        "editor.selectionHighlightBackground" = "#${config.colorScheme.palette.base05}5e";
        "editor.selectionHighlightBorder" = "#${config.colorScheme.palette.base07}30";
        "editor.findMatchBackground" = "#${config.colorScheme.palette.base04}";
        "editor.findMatchBorder" = "#${config.colorScheme.palette.base0D}6a";
        "editor.findMatchHighlightBackground" = "#${config.colorScheme.palette.base09}5e";
        "editor.findMatchHighlightBorder" = "#ffffff00";
        "editor.findRangeHighlightBackground" = "#${config.colorScheme.palette.base04}48";
        "editor.findRangeHighlightBorder" = "#ffffff00";
        "editor.rangeHighlightBackground" = "#${config.colorScheme.palette.base0D}3c";
        "editor.rangeHighlightBorder" = "#ffffff00";
        "editor.hoverHighlightBackground" = "#${config.colorScheme.palette.base0D}3c";
        "editor.wordHighlightStrongBackground" = "#${config.colorScheme.palette.base04}";
        "editor.wordHighlightBackground" = "#575757b8";
        "editor.lineHighlightBackground" = "#ffffff0A";
        "editor.lineHighlightBorder" = "#${config.colorScheme.palette.base00}";
        "editorLineNumber.activeForeground" = "#${config.colorScheme.palette.base0B}";
        "editorLink.activeForeground" = "#${config.colorScheme.palette.base0D}";
        "editorIndentGuide.background1" = "#${config.colorScheme.palette.base03}";
        "editorIndentGuide.activeBackground1" = "#${config.colorScheme.palette.base04}";
        "editorRuler.foreground" = "#${config.colorScheme.palette.base04}";
        "editorBracketMatch.background" = "#${config.colorScheme.palette.base05}14";
        "editorBracketMatch.border" = "#${config.colorScheme.palette.base05}";
        "editor.foldBackground" = "#${config.colorScheme.palette.base0D}42";
        "editorOverviewRuler.background" = "#${config.colorScheme.palette.base01}";
        "editorOverviewRuler.border" = "#FFFFFF0F";
        "editorError.foreground" = "#${config.colorScheme.palette.base08}";
        "editorError.background" = "#B73A3400";
        "editorError.border" = "#ffffff00";
        "editorWarning.foreground" = "#${config.colorScheme.palette.base0A}";
        "editorWarning.background" = "#A9904000";
        "editorWarning.border" = "#ffffff00";
        "editorInfo.foreground" = "#${config.colorScheme.palette.base0D}";
        "editorInfo.background" = "#4490BF00";
        "editorInfo.border" = "#4490BF00";
        "editorGutter.background" = "#${config.colorScheme.palette.base00}";
        "editorGutter.modifiedBackground" = "#${config.colorScheme.palette.base07}";
        "editorGutter.addedBackground" = "#${config.colorScheme.palette.base0B}";
        "editorGutter.deletedBackground" = "#${config.colorScheme.palette.base08}";
        "editorGutter.foldingControlForeground" = "#${config.colorScheme.palette.base05}";
        "editorCodeLens.foreground" = "#${config.colorScheme.palette.base05}";
        "editorGroup.border" = "#${config.colorScheme.palette.base04}";
        "diffEditor.insertedTextBackground" = "#${config.colorScheme.palette.base0B}18";
        "diffEditor.removedTextBackground" = "#${config.colorScheme.palette.base08}1c";
        "diffEditor.border" = "#${config.colorScheme.palette.base04}";
        "panel.background" = "#${config.colorScheme.palette.base00}";
        "panel.border" = "#${config.colorScheme.palette.base04}";
        "panelTitle.activeBorder" = "#${config.colorScheme.palette.base05}";
        "panelTitle.activeForeground" = "#${config.colorScheme.palette.base05}";
        "panelTitle.inactiveForeground" = "#${config.colorScheme.palette.base05}ad";
        "badge.background" = "#${config.colorScheme.palette.base03}";
        "badge.foreground" = "#${config.colorScheme.palette.base05}";
        "terminal.foreground" = "#${config.colorScheme.palette.base05}";
        "terminal.selectionBackground" = "#${config.colorScheme.palette.base04}34";
        "terminalCursor.background" = "#${config.colorScheme.palette.base00}";
        "terminalCursor.foreground" = "#${config.colorScheme.palette.base06}";
        "terminal.border" = "#${config.colorScheme.palette.base04}";
        "terminal.ansiBlack" = "#${config.colorScheme.palette.base07}";
        "terminal.ansiBlue" = "#${config.colorScheme.palette.base0D}";
        "terminal.ansiBrightBlack" = "#${config.colorScheme.palette.base05}";
        "terminal.ansiBrightBlue" = "#${config.colorScheme.palette.base0D}";
        "terminal.ansiBrightCyan" = "#${config.colorScheme.palette.base07}";
        "terminal.ansiBrightGreen" = "#${config.colorScheme.palette.base0B}";
        "terminal.ansiBrightMagenta" = "#${config.colorScheme.palette.base0F}";
        "terminal.ansiBrightRed" = "#${config.colorScheme.palette.base08}";
        "terminal.ansiBrightWhite" = "#${config.colorScheme.palette.base05}";
        "terminal.ansiBrightYellow" = "#${config.colorScheme.palette.base0A}";
        "terminal.ansiCyan" = "#${config.colorScheme.palette.base07}";
        "terminal.ansiGreen" = "#${config.colorScheme.palette.base0B}";
        "terminal.ansiMagenta" = "#${config.colorScheme.palette.base0F}";
        "terminal.ansiRed" = "#${config.colorScheme.palette.base08}";
        "terminal.ansiWhite" = "#${config.colorScheme.palette.base05}";
        "terminal.ansiYellow" = "#${config.colorScheme.palette.base0A}";
        "breadcrumb.background" = "#${config.colorScheme.palette.base00}";
        "breadcrumb.foreground" = "#${config.colorScheme.palette.base05}cd";
        "breadcrumb.focusForeground" = "#${config.colorScheme.palette.base05}";
        "editorGroupHeader.tabsBackground" = "#${config.colorScheme.palette.base00}";
        "tab.activeForeground" = "#${config.colorScheme.palette.base05}";
        "tab.border" = "#${config.colorScheme.palette.base01}";
        "tab.activeBackground" = "#${config.colorScheme.palette.base00}";
        "tab.activeBorder" = "#00000000";
        "tab.activeBorderTop" = "#00000000";
        "tab.inactiveBackground" = "#${config.colorScheme.palette.base01}";
        "tab.inactiveForeground" = "#${config.colorScheme.palette.base07}";
        "scrollbarSlider.background" = "#${config.colorScheme.palette.base04}7e";
        "scrollbarSlider.hoverBackground" = "#${config.colorScheme.palette.base07}";
        "scrollbarSlider.activeBackground" = "#${config.colorScheme.palette.base04}66";
        "progressBar.background" = "#${config.colorScheme.palette.base0D}";
        "widget.shadow" = "#00000080";
        "editorWidget.foreground" = "#${config.colorScheme.palette.base05}";
        "editorWidget.background" = "#${config.colorScheme.palette.base00}";
        "editorWidget.resizeBorder" = "#${config.colorScheme.palette.base04}";
        "pickerGroup.border" = "#${config.colorScheme.palette.base0D}";
        "pickerGroup.foreground" = "#${config.colorScheme.palette.base0D}";
        "debugToolBar.background" = "#${config.colorScheme.palette.base03}";
        "debugToolBar.border" = "#${config.colorScheme.palette.base04}";
        "notifications.foreground" = "#${config.colorScheme.palette.base05}";
        "notifications.background" = "#${config.colorScheme.palette.base03}";
        "notificationToast.border" = "#${config.colorScheme.palette.base04}";
        "notificationsErrorIcon.foreground" = "#${config.colorScheme.palette.base08}";
        "notificationsWarningIcon.foreground" = "#${config.colorScheme.palette.base0A}";
        "notificationsInfoIcon.foreground" = "#${config.colorScheme.palette.base0D}";
        "notificationCenter.border" = "#${config.colorScheme.palette.base04}";
        "notificationCenterHeader.foreground" = "#${config.colorScheme.palette.base05}";
        "notificationCenterHeader.background" = "#${config.colorScheme.palette.base00}";
        "notifications.border" = "#${config.colorScheme.palette.base03}";
        "gitDecoration.addedResourceForeground" = "#${config.colorScheme.palette.base0B}";
        "gitDecoration.conflictingResourceForeground" = "#${config.colorScheme.palette.base0E}";
        "gitDecoration.deletedResourceForeground" = "#${config.colorScheme.palette.base08}";
        "gitDecoration.ignoredResourceForeground" = "#${config.colorScheme.palette.base07}";
        "gitDecoration.modifiedResourceForeground" = "#${config.colorScheme.palette.base0A}";
        "gitDecoration.stageDeletedResourceForeground" = "#${config.colorScheme.palette.base08}";
        "gitDecoration.stageModifiedResourceForeground" = "#${config.colorScheme.palette.base0A}";
        "gitDecoration.submoduleResourceForeground" = "#${config.colorScheme.palette.base0D}";
        "gitDecoration.untrackedResourceForeground" = "#${config.colorScheme.palette.base0B}";
        "editorMarkerNavigation.background" = "#${config.colorScheme.palette.base03}";
        "editorMarkerNavigationError.background" = "#${config.colorScheme.palette.base08}";
        "editorMarkerNavigationWarning.background" = "#${config.colorScheme.palette.base0A}";
        "editorMarkerNavigationInfo.background" = "#${config.colorScheme.palette.base0D}";
        "merge.currentHeaderBackground" = "#${config.colorScheme.palette.base0C}";
        "merge.currentContentBackground" = "#27403B";
        "merge.incomingHeaderBackground" = "#395F8F";
        "merge.incomingContentBackground" = "#243A5E";
        "merge.commonHeaderBackground" = "#${config.colorScheme.palette.base04}";
        "merge.commonContentBackground" = "#${config.colorScheme.palette.base03}";
        "editorSuggestWidget.background" = "#${config.colorScheme.palette.base03}";
        "editorSuggestWidget.border" = "#${config.colorScheme.palette.base04}";
        "editorSuggestWidget.foreground" = "#${config.colorScheme.palette.base05}";
        "editorSuggestWidget.highlightForeground" = "#${config.colorScheme.palette.base0D}";
        "editorSuggestWidget.selectedBackground" = "#${config.colorScheme.palette.base04}";
        "editorHoverWidget.foreground" = "#${config.colorScheme.palette.base05}";
        "editorHoverWidget.background" = "#${config.colorScheme.palette.base03}";
        "editorHoverWidget.border" = "#${config.colorScheme.palette.base04}";
        "peekView.border" = "#${config.colorScheme.palette.base0D}";
        "peekViewEditor.background" = "#${config.colorScheme.palette.base03}";
        "peekViewEditorGutter.background" = "#${config.colorScheme.palette.base03}";
        "peekViewEditor.matchHighlightBackground" = "#${config.colorScheme.palette.base09}40";
        "peekViewEditor.matchHighlightBorder" = "#${config.colorScheme.palette.base09}";
        "peekViewResult.background" = "#${config.colorScheme.palette.base03}";
        "peekViewResult.fileForeground" = "#${config.colorScheme.palette.base05}";
        "peekViewResult.lineForeground" = "#${config.colorScheme.palette.base05}";
        "peekViewResult.matchHighlightBackground" = "#${config.colorScheme.palette.base09}40";
        "peekViewResult.selectionBackground" = "#${config.colorScheme.palette.base04}";
        "peekViewResult.selectionForeground" = "#${config.colorScheme.palette.base05}";
        "peekViewTitle.background" = "#${config.colorScheme.palette.base00}";
        "peekViewTitleDescription.foreground" = "#${config.colorScheme.palette.base06}b3";
        "peekViewTitleLabel.foreground" = "#${config.colorScheme.palette.base05}";
        "icon.foreground" = "#${config.colorScheme.palette.base05}";
        "checkbox.background" = "#${config.colorScheme.palette.base02}";
        "checkbox.foreground" = "#${config.colorScheme.palette.base05}";
        "checkbox.border" = "#00000000";
        "dropdown.background" = "#${config.colorScheme.palette.base02}";
        "dropdown.foreground" = "#${config.colorScheme.palette.base05}";
        "dropdown.border" = "#00000000";
        "disabledForeground" = "#${config.colorScheme.palette.base07}";
        "minimapGutter.addedBackground" = "#${config.colorScheme.palette.base0B}";
        "minimapGutter.modifiedBackground" = "#${config.colorScheme.palette.base07}";
        "minimapGutter.deletedBackground" = "#${config.colorScheme.palette.base08}";
        "minimap.findMatchHighlight" = "#${config.colorScheme.palette.base04}";
        "minimap.selectionHighlight" = "#${config.colorScheme.palette.base04}";
        "minimap.errorHighlight" = "#${config.colorScheme.palette.base08}";
        "minimap.warningHighlight" = "#${config.colorScheme.palette.base0A}";
        "minimap.background" = "#${config.colorScheme.palette.base00}";
        "sideBar.dropBackground" = "#${config.colorScheme.palette.base01}";
        "editorGroup.emptyBackground" = "#${config.colorScheme.palette.base00}";
        "panelSection.border" = "#${config.colorScheme.palette.base04}";
        "statusBarItem.activeBackground" = "#FFFFFF25";
        "settings.headerForeground" = "#${config.colorScheme.palette.base05}";
        "settings.focusedRowBackground" = "#ffffff07";
        "walkThrough.embeddedEditorBackground" = "#00000050";
        "breadcrumb.activeSelectionForeground" = "#${config.colorScheme.palette.base05}";
        "editorGutter.commentRangeForeground" = "#${config.colorScheme.palette.base05}";
        "debugExceptionWidget.background" = "#${config.colorScheme.palette.base03}";
        "debugExceptionWidget.border" = "#${config.colorScheme.palette.base04}";
        "list.warningForeground" = "#${config.colorScheme.palette.base0A}";
        "editorBracketHighlight.foreground1" = "#${config.colorScheme.palette.base08}";
        "editorBracketHighlight.foreground2" = "#${config.colorScheme.palette.base09}";
        "editorBracketHighlight.foreground3" = "#${config.colorScheme.palette.base0A}";
        "editorBracketHighlight.foreground4" = "#${config.colorScheme.palette.base0B}";
        "editorBracketHighlight.foreground5" = "#85c1dc";
        "editorBracketHighlight.foreground6" = "#${config.colorScheme.palette.base0E}";
        "editorBracketHighlight.unexpectedBracket.foreground" = "#${config.colorScheme.palette.base0F}";
      };
    };
    extensions = with pkgs.vscode-extensions; [
      github.copilot
      mads-hartmann.bash-ide-vscode
      jnoortheen.nix-ide
      skyapps.fish-vscode
      ms-dotnettools.csharp
      dotjoshjohnson.xml
      davidanson.vscode-markdownlint
      ms-vscode.makefile-tools
      rust-lang.rust-analyzer
      #ms-python.python # breaks vscode
    ];
  };
}
