;;local vars
(defvar show_powerbuttons false)

(defwindow popup-power-window
  :monitor 0
  :stacking "overlay"
  :exclusive false
  :geometry (geometry 
    :x "0.25%"
    :y "0"
    :anchor "top right")
  (powerbuttons)
)

(defwidget powerbuttons []
  (eventbox 
    :onhover ""
    :onhoverlost "${EWW_CMD} update show_powerbuttons=false"
    (revealer
      :transition "slideup"
      :reveal show_powerbuttons
      :duration "500ms"
      (box
        :class "powerpopup"
        :halign "start" 
        :spacing 3
        :orientation "vertical"
        (button
          :class "suspend" 
          :onclick "systemctl suspend"
          ""
        )
        (button 
          :class "reboot"
          :onclick "reboot"
          ""
        )
        (button 
          :class "shutdown"
          :onclick "shutdown -h now"
          "󰐥"
        )
      )
    )
  )
)
